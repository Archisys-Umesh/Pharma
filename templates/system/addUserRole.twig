{% extends "app.twig" %}
{% block title %} Add Role {% endblock %}
{% block page %}
    
    <div class="row">
        {#<div class="col-sm-8">                        
            <div class="card-box form-horizontal">
                <form id="mainForm" action="{{request.getUri()}}" method="post">
                    {{form | raw}}
                    <input type="submit" class="btn btn-primary pull-right" id="btnSubmit" value="Save"/>
                    <div class="clearfix"></div>
                </form>
                {% set error = session.getFlash('error') %}
                    {% if error != "" %}
                    <div class="form-group text-center m-t-30">
                        <div class="col-xs-12">
                            <div class="alert alert-danger" role="alert">
                                {{error}}
                            </div>

                        </div>
                    </div>
                {% endif %}
                
            </div>
        </div>#}
        <div class="col-sm-12">                        
            <div class="card-box form-horizontal">
                
                <form class="" id="mainForm" action="{{request.getUri()}}" method="post" >
                    <div class="form-group">
                        <div class="col-lg-10">
                            {{form | raw}}
                        </div>
                        <div class="col-lg-2">
                            <input type="submit" class="btn btn-primary pull-right" id="btnSubmit" value="Save"/>
                        </div>    
                    </div>
                    
                    <div class="form-group">
                        <div class="col-lg-12">
                            <table id="mainTable" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>Enabled</th>
                                        <th>Permission</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for item in RolePermissions %}
                                    <tr>
                                        <td>
                                            <div class="checkbox">
                                                <input type="checkbox" value="{{item.permKey}}" id="fm-input-2" {% if item.checked == 1 %} checked="checked" {%endif%} name="RolePermissions[{{item.permKey}}]" >
                                                <label for="fm-input-7"></label>
                                            </div>
                                        </td>
                                        
                                        <td>{{item.permKey}}</td>
                                        <td>{{item.permDesc}}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                </form>
                {% set error = session.getFlash('error') %}
                    {% if error != "" %}
                    <div class="form-group text-center m-t-30">
                        <div class="col-xs-12">
                            <div class="alert alert-danger" role="alert">
                                {{error}}
                            </div>

                        </div>
                    </div>
                {% endif %}
                
            </div>
        </div>        
    </div>
                            
{% endblock %}    
{% block script %}
<script type ='text/javascript'>

    {#$(document).ready(function(){
        $('#mainTable').DataTable();
    });#}
    
</script>
{% endblock %}        
